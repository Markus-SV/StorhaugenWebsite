/* ==========================================================================
   ADD & EDIT FOOD FORMS
   Contains styles for input sections, rating sliders, and image uploads.
   ========================================================================== */

/* Form Styles */
.form-section {
    background: var(--mud-palette-surface);
    border-radius: var(--card-radius);
    padding: 20px;
    margin-bottom: 16px;
    border: 1px solid var(--mud-palette-divider);
}

.form-section-title {
    font-weight: 600;
    font-size: 0.9rem;
    color: var(--mud-palette-text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 16px;
}

/* Rating Slider */
.rating-member-card {
    background: var(--mud-palette-background);
    border-radius: 14px;
    padding: 14px;
    margin-bottom: 12px;
}

.rating-member-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.rating-member-info {
    display: flex;
    align-items: center;
    gap: 10px;
}

.rating-member-avatar {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 600;
    font-size: 0.9rem;
}

.rating-slider-container {
    margin-top: 14px;
    display: flex;
    align-items: center;
    gap: 12px;
}

.rating-value-display {
    min-width: 44px;
    height: 36px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 1rem;
}

/* Image Upload */
.image-upload-area {
    border: 2px dashed var(--mud-palette-divider);
    border-radius: 14px;
    padding: 24px;
    text-align: center;
    transition: var(--transition-fast);
    cursor: pointer;
}

    .image-upload-area:hover {
        border-color: var(--mud-palette-primary);
        background: rgba(224, 122, 46, 0.04);
    }

.image-preview-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
    gap: 10px;
    margin-bottom: 14px;
}

.image-preview-item {
    position: relative;
    aspect-ratio: 1;
    border-radius: 12px;
    overflow: hidden;
}

    .image-preview-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

.image-preview-remove {
    position: absolute;
    top: 4px;
    right: 4px;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: rgba(0, 0, 0, 0.6);
    color: white;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: var(--transition-fast);
}

    .image-preview-remove:hover {
        background: var(--mud-palette-error);
    }


/* ==========================================================================
   FOOD LIST / INDEX PAGE
   Contains headers, view toggles, sorting, empty states, and skeletons.
   ========================================================================== */

/* Page Headers */
.page-header {
    margin-bottom: 24px;
}

.page-title {
    font-family: 'Fraunces', Georgia, serif;
    font-size: 1.75rem;
    font-weight: 600;
    color: var(--mud-palette-text-primary);
    margin-bottom: 4px;
    letter-spacing: -0.02em;
}

.page-subtitle {
    font-size: 0.9rem;
    color: var(--mud-palette-text-secondary);
}

/* View Toggle */
.view-toggle-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 20px;
    gap: 12px;
}

.view-toggle {
    display: flex;
    background: var(--mud-palette-surface);
    border-radius: 12px;
    padding: 4px;
    border: 1px solid var(--mud-palette-divider);
}

.view-toggle-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 36px;
    border: none;
    background: transparent;
    color: var(--mud-palette-text-secondary);
    cursor: pointer;
    border-radius: 8px;
    transition: var(--transition-fast);
}

    .view-toggle-btn:hover {
        background: var(--mud-palette-divider-light);
    }

    .view-toggle-btn.active {
        background: var(--mud-palette-primary);
        color: white;
    }

/* Sort Dropdown */
.sort-dropdown {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    background: var(--mud-palette-surface);
    border: 1px solid var(--mud-palette-divider);
    border-radius: 12px;
    cursor: pointer;
    font-size: 0.875rem;
    color: var(--mud-palette-text-secondary);
    transition: var(--transition-fast);
}

    .sort-dropdown:hover {
        border-color: var(--mud-palette-primary);
    }

/* Empty State */
.empty-state {
    text-align: center;
    padding: 60px 24px;
}

.empty-state-icon {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: var(--mud-palette-divider-light);
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 20px;
    color: var(--mud-palette-text-secondary);
}

.empty-state-title {
    font-family: 'Fraunces', Georgia, serif;
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 8px;
}

.empty-state-text {
    color: var(--mud-palette-text-secondary);
    margin-bottom: 24px;
}

/* Skeleton Loading */
.skeleton-card {
    background: var(--mud-palette-surface);
    border-radius: var(--card-radius);
    overflow: hidden;
    border: 1px solid var(--mud-palette-divider);
}

.skeleton-image {
    aspect-ratio: 16/10;
    background: linear-gradient(90deg, var(--mud-palette-divider-light) 25%, var(--mud-palette-divider) 50%, var(--mud-palette-divider-light) 75%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
}

.skeleton-content {
    padding: 16px;
}

.skeleton-text {
    height: 14px;
    border-radius: 6px;
    background: var(--mud-palette-divider-light);
    margin-bottom: 10px;
}

    .skeleton-text.title {
        height: 20px;
        width: 60%;
    }

    .skeleton-text.subtitle {
        width: 40%;
    }


/* ==========================================================================
   FOOD DETAILS PAGE
   Contains styles for the detail view, carousel, and description text.
   ========================================================================== */

.detail-header {
    margin-bottom: 20px;
}

.detail-back-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 12px;
    background: var(--mud-palette-surface);
    border: 1px solid var(--mud-palette-divider);
    border-radius: 10px;
    color: var(--mud-palette-text-secondary);
    font-size: 0.875rem;
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition-fast);
    font-family: 'DM Sans', system-ui, sans-serif;
}

    .detail-back-btn:hover {
        border-color: var(--mud-palette-primary);
        color: var(--mud-palette-primary);
    }

.detail-image-carousel {
    border-radius: var(--card-radius);
    overflow: hidden;
    margin-bottom: 20px;
}

.detail-info-card {
    background: var(--mud-palette-surface);
    border-radius: var(--card-radius);
    padding: 20px;
    margin-bottom: 20px;
    border: 1px solid var(--mud-palette-divider);
}

.detail-title {
    font-family: 'Fraunces', Georgia, serif;
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 8px;
}

.detail-meta {
    font-size: 0.85rem;
    color: var(--mud-palette-text-secondary);
    margin-bottom: 12px;
}

.detail-description {
    color: var(--mud-palette-text-secondary);
    line-height: 1.6;
}

/* Visibility Card */
.visibility-card {
    background: var(--mud-palette-background);
    border-radius: 14px;
    padding: 14px;
}



/* OVERLAY */

/* --- Camera Overlay Styles --- */
.camera-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: #000;
    z-index: 9999;
    display: flex;
    flex-direction: column;
}

.camera-video {
    width: 100%;
    height: 100%;
    object-fit: cover;
    position: absolute;
    top: 0;
    left: 0;
    /* --- THE FIX: Prevent Mirroring --- */
    transform: scaleX(1) !important;
    -webkit-transform: scaleX(1) !important;
    -moz-transform: scaleX(1) !important;
}

/* Container for guide-boksen */
.camera-guide-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
}

    /* --- STEP 1: Front Page (Landscape card scanned in Portrait) --- */
    /* This is the box you asked to change */
    .camera-guide-container.step-landscape .camera-guide-box {
        /* Make the box cover most of the screen since the actual image is big */
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 90vw;
        aspect-ratio: 9/16; /* Portrait aspect ratio to match phone screen */
        border: 2px solid rgba(255, 255, 255, 0.4); /* Faint border for whole area */
        border-radius: 12px;
        box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5);
    }

/* --- NEW LAYOUT: Logo & Title (Top Right, Rotated) --- */

/* 1. The Logo Zone (Rotated 90 degrees) */
.step-landscape .logo-hint-zone {
    position: absolute;
    top: 80px; /* Distance from top */
    right: 20px; /* Distance from right edge */
    width: 60px;
    height: 60px;
    border: 2px dashed #9ACD32; /* HelloFresh Green */
    border-radius: 50%;
    /* Rotate 90 degrees as requested */
    transform: rotate(90deg);
    display: flex;
    justify-content: center;
    align-items: center;
    background: rgba(0, 0, 0, 0.3);
}

.step-landscape .logo-label {
    color: #9ACD32;
    font-size: 12px;
    font-weight: 800;
    text-transform: uppercase;
}

/* 2. The Title Zone (Beside the logo) */
.step-landscape .text-hint-zone {
    position: absolute;
    /* Position it to the LEFT of the logo (since we are top-right aligned) */
    top: 40px;
    right: 100px; /* 20px (margin) + 60px (logo width) + 20px (gap) */

    width: 60vh; /* Long enough for title */
    height: 80px;
    border: 2px dashed rgba(255, 255, 255, 0.7);
    border-radius: 8px;
    background: rgba(0,0,0,0.2);
    /* Rotate this 90 degrees too, so the text inside is readable 
       if the user tilts their head, or keep it vertical? 
       Assuming you want the BOX rotated so it runs down the side: */
    transform-origin: center right;
    transform: rotate(90deg) translate(50%, -50%);
    display: flex;
    align-items: center;
    justify-content: center;
}

.step-landscape .text-label {
    color: white;
    font-size: 16px;
    font-weight: bold;
    letter-spacing: 2px;
}

/* --- Keep Scan Line Animation --- */
.scan-line {
    width: 100%;
    height: 2px;
    background: #00E676;
    position: absolute;
    top: 0;
    box-shadow: 0 0 10px #00E676;
    animation: scanAnim 3s ease-in-out infinite;
}

@keyframes scanAnim {
    0% {
        top: 5%;
        opacity: 0;
    }

    20% {
        opacity: 1;
    }

    80% {
        opacity: 1;
    }

    100% {
        top: 95%;
        opacity: 0;
    }
}

/* --- Step 2 & 3 Styles (unchanged/cleaned) --- */
.camera-guide-container.step-portrait-tall .camera-guide-box {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 70vw;
    height: 60vh;
    border: 2px solid white;
    box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.7);
}

.camera-guide-container.step-portrait-normal .camera-guide-box {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 85vw;
    aspect-ratio: 210/297;
    border: 2px solid white;
    box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.7);
}

/* --- UI Controls --- */
.camera-controls {
    position: absolute;
    bottom: 40px;
    width: 100%;
    display: flex;
    justify-content: space-around;
    align-items: center;
    z-index: 10000;
}