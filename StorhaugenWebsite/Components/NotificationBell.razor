@using StorhaugenWebsite.Services
@inject ISnackbar Snackbar

<MudBadge Content="@_notificationCount"
          Color="Color.Error"
          Overlap="true"
          Visible="@(_notificationCount > 0)"
          Class="notification-badge">

    <MudMenu Icon="@Icons.Material.Rounded.Notifications"
             Color="Color.Inherit"
             Size="Size.Medium"
             AnchorOrigin="Origin.BottomRight"
             TransformOrigin="Origin.TopRight"
             Dense="true"
             PopoverClass="notification-popover">

        <ChildContent>
            <div class="d-flex flex-column align-center pa-4" style="min-width: 250px;">
                <MudIcon Icon="@Icons.Material.Rounded.NotificationsNone"
                         Color="Color.Secondary"
                         Size="Size.Large" />
                <MudText Typo="Typo.body2" Color="Color.Secondary" Class="mt-2">
                    Ingen nye varsler
                </MudText>
            </div>
        </ChildContent>
    </MudMenu>
</MudBadge>

<style>
    .notification-badge .mud-badge-content {
        font-size: 10px;
        min-width: 16px;
        height: 16px;
        padding: 0 4px;
    }
</style>

@code {
    private int _notificationCount = 0;
}
